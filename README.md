# RSLModels.jl


Note that this repository is very work-in-progress as of November 2023.


The following sections gives an overview of how the synthetic data sets for the
paper *Measuring Similarities in Model Structure of Metaheuristic Rule Set
Learners* presented at *Evostar 2024* were generated as well as how the figures
in said paper where created.


Note that some of the scripts require you to alter paths at the top. An improved
interface is underway.


## Generate samples for later configuring learning task generator: `scripts/genkdata.jl`


```
nix develop --impure
julia -p 20 --project=. scripts/genkdata.jl 10000
```


## Extract learning task generator hyperparameters: `scripts/selectgendataparams.jl`


```
nix develop --impure
julia --project=. scripts/selectgendataparams.jl 2023-11-09-18-35-32-kdata.csv
```


Replace the CSV file name with the name of the file generated by `scripts/genkdata.jl`.


## Generate learning tasks: `scripts/gendata.jl`

```
nix develop --impure
julia --project=. -e "import Pkg; Pkg.instantiate()"
julia -p 30 --project=. "scripts/gendata.jl" genall --startseed=0 --endseed=49 --prefix-fname="data" --full --usemmap
```

Remember to adjust the parameter to `-p` to the actual number of workers you want to use.


Also, if you don't want to use mmap (because you have a lot of RAM) then don't
add the `--usemmap` flag. You probably want to do that, though, especially for
higher-than-ten dimensional data.


## Selecting a subset of the generated tasks: `scripts/drawdata.jl`


Since it's not (yet) a proper CLI app, you will have to adjust the file names at
the top of `scripts/drawdata.jl`.


```
nix develop --impure
julia --project=. scripts/drawdata.jl
```


Run the fish script generated by `drawdata.jl` in order to copy the selected
tasks into a folder.


## Compute dissimilarities: `scripts/computesims.jl`


May take some time, consider to run this on a compute node.


This serializes a `DataFrame` with all the mlflow data (including the
dissimilarities) for the next step.


## Peform analysis of the run set: `scripts/analyserunbest.jl`


Adjust the path to the `.jls`-serialized `DataFrame` at the top to the path that
`computesims.jl` serialized to.


You probably want to run this on the server since computing the pairwise
distances requires some compute.


1. Load Julia and the script:
   ```
   julia --project=.
   include("scripts/analyserunbest.jl")
   ```
